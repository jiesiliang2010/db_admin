{"version":3,"sources":["webpack:///./node_modules/core-js/library/fn/get-iterator.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/get-iterator.js","webpack:///./src/views/configs/ConfigValuesForm.vue?20fb","webpack:///./src/views/configs/ConfigsForm/index.vue?f2b3","webpack:///src/views/configs/ConfigsForm/index.vue","webpack:///./src/views/configs/ConfigsForm/index.vue?d4b7","webpack:///./src/views/configs/ConfigsForm/index.vue","webpack:///src/views/configs/ConfigValuesForm.vue","webpack:///./src/views/configs/ConfigValuesForm.vue?1430","webpack:///./src/views/configs/ConfigValuesForm.vue","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/nonIterableRest.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/slicedToArray.js","webpack:///./node_modules/core-js/library/modules/core.get-iterator.js","webpack:///src/views/configs/TypeInput.vue","webpack:///./src/views/configs/TypeInput.vue","webpack:///./src/views/configs/TypeInput.vue?36d6"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","scopedSlots","_u","key","fn","proxy","attrs","staticRenderFns","ref","getData","onSubmit","errors","form","on","$event","_l","i","id","slug","name","desc","type","options","model","value","callback","$$v","$set","expression","components","TypeInput","LzForm","data","configs","computed","category","$route","params","categorySlug","methods","component","ConfigsForm","_arrayWithHoles","arr","_iterableToArrayLimit","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","length","err","_nonIterableRest","TypeError","_slicedToArray","anObject","get","getIterator","it","iterFn","FilePicker","inject","elForm","default","elFormItem","filePickerKey","props","String","selectOptions","pairs","forEach","label","onInput","$emit","val","initValue","CONFIG_TYPES","FILE","max","Array","isArray","indexOf","updateFilePicker","watch","handler","immediate","slice","newVal","input","TYPES","INPUT","OTHER","TEXTAREA","assign","renderData","rows","ext","multiple","SINGLE_SELECT","MULTIPLE_SELECT","isMultiple","slots","map","clearable","h"],"mappings":"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","file":"js/chunk-10b5cb64.9c8bd50b.js","sourcesContent":["require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.get-iterator');\n","module.exports = require(\"core-js/library/fn/get-iterator\");","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-card',{staticClass:\"create\",scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('content-header')]},proxy:true}])},[_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('configs-form')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('lz-form',{ref:\"form\",attrs:{\"get-data\":_vm.getData,\"submit\":_vm.onSubmit,\"errors\":_vm.errors,\"form\":_vm.form,\"disable-stay\":\"\",\"disable-redirect\":\"\",\"edit-mode\":\"\"},on:{\"update:errors\":function($event){_vm.errors=$event},\"update:form\":function($event){_vm.form=$event}}},_vm._l((_vm.configs),function(i){return _c('el-form-item',{key:i.id,attrs:{\"prop\":i.slug,\"label\":i.name,\"helper\":i.desc}},[_c('type-input',{attrs:{\"type\":i.type,\"options\":i.options},model:{value:(_vm.form[i.slug]),callback:function ($$v) {_vm.$set(_vm.form, i.slug, $$v)},expression:\"form[i.slug]\"}})],1)}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <lz-form\r\n    ref=\"form\"\r\n    :get-data=\"getData\"\r\n    :submit=\"onSubmit\"\r\n    :errors.sync=\"errors\"\r\n    :form.sync=\"form\"\r\n    disable-stay\r\n    disable-redirect\r\n    edit-mode\r\n  >\r\n    <el-form-item\r\n      v-for=\"i of configs\"\r\n      :key=\"i.id\"\r\n      :prop=\"i.slug\"\r\n      :label=\"i.name\"\r\n      :helper=\"i.desc\"\r\n    >\r\n      <type-input\r\n        v-model=\"form[i.slug]\"\r\n        :type=\"i.type\"\r\n        :options=\"i.options\"\r\n      />\r\n    </el-form-item>\r\n  </lz-form>\r\n</template>\r\n\r\n<script>\r\nimport LzForm from '@c/LzForm'\r\nimport {\r\n  getConfigsByCategorySlug,\r\n  updateConfigValues,\r\n} from '@/api/configs'\r\nimport TypeInput from '@v/configs/TypeInput'\r\nimport { mapConstants, SYSTEM_BASIC } from '@/libs/constants'\r\n\r\nexport default {\r\n  name: 'ConfigsForm',\r\n  components: {\r\n    TypeInput,\r\n    LzForm,\r\n  },\r\n  data() {\r\n    return {\r\n      form: {},\r\n      errors: {},\r\n      configs: [],\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapConstants(['CONFIG_TYPES']),\r\n    category() {\r\n      return this.$route.params.categorySlug\r\n    },\r\n  },\r\n  methods: {\r\n    async getData() {\r\n      if (!this.category) {\r\n        throw new Error('无法获取到 [ category ]')\r\n      }\r\n\r\n      const { data } = await getConfigsByCategorySlug(this.category)\r\n\r\n      this.configs = data\r\n\r\n      const form = {}\r\n      data.forEach((i) => {\r\n        form[i.slug] = i.value\r\n      })\r\n      this.form = form\r\n    },\r\n    async onSubmit() {\r\n      const { data } = await updateConfigValues(this.form)\r\n      this.$store.commit('SET_CONFIG', {\r\n        path: SYSTEM_BASIC.SLUG,\r\n        value: data,\r\n      })\r\n    },\r\n  },\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5e3ed3b3&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <el-card class=\"create\">\r\n    <template #header>\r\n      <content-header/>\r\n    </template>\r\n    <el-row type=\"flex\" justify=\"center\">\r\n      <configs-form/>\r\n    </el-row>\r\n  </el-card>\r\n</template>\r\n\r\n<script>\r\nimport ConfigsForm from '@v/configs/ConfigsForm'\r\n\r\nexport default {\r\n  name: 'ConfigValuesForm',\r\n  components: {\r\n    ConfigsForm,\r\n  },\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfigValuesForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfigValuesForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ConfigValuesForm.vue?vue&type=template&id=a443962a&\"\nimport script from \"./ConfigValuesForm.vue?vue&type=script&lang=js&\"\nexport * from \"./ConfigValuesForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import _Array$isArray from \"../../core-js/array/is-array\";\nexport default function _arrayWithHoles(arr) {\n  if (_Array$isArray(arr)) return arr;\n}","import _getIterator from \"../../core-js/get-iterator\";\nimport _isIterable from \"../../core-js/is-iterable\";\nexport default function _iterableToArrayLimit(arr, i) {\n  if (!(_isIterable(Object(arr)) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = _getIterator(arr), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","var anObject = require('./_an-object');\nvar get = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function (it) {\n  var iterFn = get(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n","<script>\r\nimport { mapConstants } from '@/libs/constants'\r\nimport FilePicker from '@c/FilePicker'\r\nimport _debounce from 'lodash/debounce'\r\n\r\nexport default {\r\n  name: 'TypeInput',\r\n  components: {\r\n    FilePicker,\r\n  },\r\n  inject: {\r\n    elForm: {\r\n      default: '',\r\n    },\r\n\r\n    elFormItem: {\r\n      default: '',\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      filePickerKey: 1,\r\n    }\r\n  },\r\n  props: {\r\n    type: String,\r\n    value: null,\r\n    options: Object,\r\n  },\r\n  computed: {\r\n    ...mapConstants(['CONFIG_TYPES']),\r\n    selectOptions() {\r\n      if (\r\n        (this.type !== this.CONFIG_TYPES.SINGLE_SELECT) &&\r\n        (this.type !== this.CONFIG_TYPES.MULTIPLE_SELECT)\r\n      ) {\r\n        return []\r\n      } else {\r\n        const pairs = this.options.options.split('\\n')\r\n        const options = []\r\n        pairs.forEach((pair) => {\r\n          const [value, label] = pair.split('=>').map((i) => i.trim())\r\n          if (label) {\r\n            options.push({ value, label })\r\n          }\r\n        })\r\n        return options\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    onInput(val) {\r\n      this.$emit('input', val)\r\n    },\r\n    /**\r\n     * 当类型或者文件选择最大限制改变时，要改变值的类型\r\n     */\r\n    initValue() {\r\n      if (this.type === this.CONFIG_TYPES.FILE) {\r\n        if (this.options.max > 1 && !Array.isArray(this.value)) {\r\n          // 如果是多选，且原来的值不是数组，则用数组包起来，空值则为空数组\r\n          this.onInput(this.value ? [this.value] : [])\r\n        } else if (this.options.max <= 1 && Array.isArray(this.value)) {\r\n          // 如果是单选，且原来的值是数组，则选第一个，否则为 null\r\n          this.onInput(this.value[0] || null)\r\n        }\r\n      } else if (this.type === this.CONFIG_TYPES.MULTIPLE_SELECT) {\r\n        !Array.isArray(this.value) && this.onInput([])\r\n      } else {\r\n        if (['string', 'boolean', 'number'].indexOf(typeof this.value) === -1) {\r\n          this.onInput(null)\r\n        }\r\n      }\r\n    },\r\n    /**\r\n     * 重新渲染 FilePicker 组件\r\n     */\r\n    updateFilePicker: _debounce(function () {\r\n      this.filePickerKey++\r\n    }, 200),\r\n  },\r\n  watch: {\r\n    type: {\r\n      handler() {\r\n        this.initValue()\r\n      },\r\n      immediate: true,\r\n    },\r\n    'options.max'(newVal, oldVal) {\r\n      // 如果变了之后，都还是多选，则不用更新\r\n      // 这里条件取反\r\n      if (!((newVal > 1) && (oldVal > 1))) {\r\n        this.updateFilePicker()\r\n      }\r\n      this.initValue()\r\n      // 多选时，如果数量变少了，则要去掉 value 中多出来的文件\r\n      if ((newVal > 1) && (newVal < oldVal)) {\r\n        this.onInput(this.value.slice(0, newVal))\r\n      }\r\n    },\r\n    'options.ext'() {\r\n      this.updateFilePicker()\r\n    },\r\n  },\r\n  render(h) {\r\n    let component = null\r\n    const renderData = {\r\n      props: {\r\n        value: this.value,\r\n      },\r\n      on: {\r\n        input: this.onInput,\r\n      },\r\n    }\r\n    let slots = null\r\n\r\n    const TYPES = this.CONFIG_TYPES\r\n    switch (this.type) {\r\n      case TYPES.INPUT:\r\n      case TYPES.OTHER:\r\n        component = 'el-input'\r\n        break\r\n      case TYPES.TEXTAREA:\r\n        component = 'el-input'\r\n        Object.assign(renderData.props, {\r\n          rows: 4,\r\n          type: 'textarea',\r\n        })\r\n        break\r\n      case TYPES.FILE:\r\n        component = 'file-picker'\r\n        Object.assign(renderData.props, {\r\n          max: this.options.max,\r\n          ext: this.options.ext,\r\n          multiple: this.options.max > 1,\r\n        })\r\n        renderData.key = this.filePickerKey\r\n        break\r\n      case TYPES.SINGLE_SELECT:\r\n      case TYPES.MULTIPLE_SELECT:\r\n        const isMultiple = this.type === TYPES.MULTIPLE_SELECT\r\n        if (this.options.type === 'input') {\r\n          component = isMultiple\r\n            ? 'el-checkbox-group'\r\n            : 'el-radio-group'\r\n          slots = this.selectOptions.map((i) => (\r\n            h(isMultiple ? 'el-checkbox' : 'el-radio', {\r\n              props: {\r\n                key: i.value,\r\n                label: i.value,\r\n              },\r\n            }, i.label)\r\n          ))\r\n        } else if (this.options.type === 'select') {\r\n          component = 'el-select'\r\n          Object.assign(renderData.props, {\r\n            multiple: isMultiple,\r\n            clearable: isMultiple,\r\n          })\r\n          slots = this.selectOptions.map((i) => (\r\n            <el-option key={i.value} value={i.value} label={i.label}/>\r\n          ))\r\n        }\r\n        break\r\n      default:\r\n      // do nothing\r\n    }\r\n\r\n    return h(component, renderData, slots)\r\n  },\r\n}\r\n</script>\r\n","var render, staticRenderFns\nimport script from \"./TypeInput.vue?vue&type=script&lang=js&\"\nexport * from \"./TypeInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TypeInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TypeInput.vue?vue&type=script&lang=js&\""],"sourceRoot":""}