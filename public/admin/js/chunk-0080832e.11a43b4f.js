(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0080832e"],{"0695":function(e,r,t){"use strict";t.r(r);var n=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-card",{scopedSlots:e._u([{key:"header",fn:function(){return[t("content-header")]},proxy:!0}])},[t("el-row",{attrs:{type:"flex",justify:"center"}},[t("lz-form",{ref:"form",attrs:{"get-data":e.getData,submit:e.onSubmit,errors:e.errors,form:e.form,"edit-mode":e.editMode},on:{"update:errors":function(r){e.errors=r},"update:form":function(r){e.form=r}}},[t("el-form-item",{attrs:{label:"账号",required:"",prop:"username"}},[t("el-input",{model:{value:e.form.username,callback:function(r){e.$set(e.form,"username",r)},expression:"form.username"}})],1),t("el-form-item",{attrs:{label:"姓名",required:"",prop:"name"}},[t("el-input",{model:{value:e.form.name,callback:function(r){e.$set(e.form,"name",r)},expression:"form.name"}})],1),t("el-form-item",{attrs:{label:"头像",prop:"avatar"}},[t("file-picker",{attrs:{ext:"jpg,gif,png,jpeg"},model:{value:e.form.avatar,callback:function(r){e.$set(e.form,"avatar",r)},expression:"form.avatar"}})],1),t("el-form-item",{attrs:{label:"密码",required:!e.editMode,prop:"password"}},[t("el-input",{attrs:{type:"password",autocomplete:"new-password"},model:{value:e.form.password,callback:function(r){e.$set(e.form,"password",r)},expression:"form.password"}})],1),t("el-form-item",{attrs:{label:"确认密码",required:!e.editMode,prop:"password_confirmation"}},[t("el-input",{attrs:{type:"password",autocomplete:"new-password"},model:{value:e.form.password_confirmation,callback:function(r){e.$set(e.form,"password_confirmation",r)},expression:"form.password_confirmation"}})],1),t("el-form-item",{attrs:{label:"角色",prop:"roles"}},[t("el-select",{attrs:{multiple:"",placeholder:"选择角色",filterable:"",clearable:""},model:{value:e.form.roles,callback:function(r){e.$set(e.form,"roles",r)},expression:"form.roles"}},e._l(e.roles,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),t("el-form-item",{attrs:{label:"权限",prop:"permissions"}},[t("el-select",{attrs:{multiple:"",placeholder:"选择权限",filterable:"",clearable:""},model:{value:e.form.permissions,callback:function(r){e.$set(e.form,"permissions",r)},expression:"form.permissions"}},e._l(e.permissions,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1)],1)},o=[],a=(t("96cf"),t("3b8d")),i=t("04bc"),s=t("44c4"),u=(t("fff0"),t("aef5"),t("7a7f")),c=t("3b73"),f={name:"Form",components:{FilePicker:c["a"],LzForm:i["a"]},mixins:[u["a"]],data:function(){return{form:{username:"",name:"",password:"",password_confirmation:"",roles:[],permissions:[],avatar:""},errors:{},roles:[],permissions:[]}},methods:{onSubmit:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.editMode){e.next=5;break}return e.next=3,Object(s["g"])(this.resourceId,this.form);case 3:e.next=7;break;case 5:return e.next=7,Object(s["f"])(this.form);case 7:case"end":return e.stop()}}),e,this)})));function r(){return e.apply(this,arguments)}return r}(),getData:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var r,t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.editMode){e.next=8;break}return e.next=3,Object(s["b"])(this.resourceId);case 3:t=e.sent,r=t.data,this.fillForm(r.admin_user),e.next=12;break;case 8:return e.next=10,Object(s["a"])();case 10:n=e.sent,r=n.data;case 12:this.roles=r.roles,this.permissions=r.permissions;case 14:case"end":return e.stop()}}),e,this)})));function r(){return e.apply(this,arguments)}return r}()}},l=f,m=t("2877"),d=Object(m["a"])(l,n,o,!1,null,null,null);r["default"]=d.exports},"7a7f":function(e,r,t){"use strict";var n=t("90fe");r["a"]={provide:function(){return{view:this}},data:function(){return{formField:"form",idField:"id"}},computed:{editMode:function(){return!!this.resourceId},resourceId:function(){return this.$route.params[this.idField]}},created:function(){this.backupForm()},methods:{getResourceId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";return this.$route.params[e]},backupForm:function(){this.formBak=JSON.parse(JSON.stringify(this.$data[this.formField]))},fillForm:function(e){this.$data[this.formField]=Object(n["b"])(this.$data[this.formField],e)}}}},aef5:function(e,r,t){"use strict";t.d(r,"b",(function(){return o})),t.d(r,"c",(function(){return a})),t.d(r,"d",(function(){return i})),t.d(r,"a",(function(){return s}));var n=t("ff66");function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n["b"].get("admin-permissions",{params:e})}function a(e){return n["b"].post("admin-permissions",e)}function i(e,r){return n["b"].put("admin-permissions/".concat(e),r)}function s(e){return n["b"].get("admin-permissions/".concat(e,"/edit"))}},fff0:function(e,r,t){"use strict";t.d(r,"c",(function(){return o})),t.d(r,"d",(function(){return a})),t.d(r,"e",(function(){return i})),t.d(r,"b",(function(){return s})),t.d(r,"a",(function(){return u}));var n=t("ff66");function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n["b"].get("admin-roles",{params:e})}function a(e){return n["b"].post("admin-roles",e)}function i(e,r){return n["b"].put("admin-roles/".concat(e),r)}function s(e){return n["b"].get("admin-roles/".concat(e,"/edit"))}function u(){return n["b"].get("admin-roles/create")}}}]);
//# sourceMappingURL=chunk-0080832e.11a43b4f.js.map