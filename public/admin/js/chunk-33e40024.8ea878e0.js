(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-33e40024"],{"7a7f":function(e,t,r){"use strict";var o=r("90fe");t["a"]={provide:function(){return{view:this}},data:function(){return{formField:"form",idField:"id"}},computed:{editMode:function(){return!!this.resourceId},resourceId:function(){return this.$route.params[this.idField]}},created:function(){this.backupForm()},methods:{getResourceId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";return this.$route.params[e]},backupForm:function(){this.formBak=JSON.parse(JSON.stringify(this.$data[this.formField]))},fillForm:function(e){this.$data[this.formField]=Object(o["b"])(this.$data[this.formField],e)}}}},fbdf:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-card",{scopedSlots:e._u([{key:"header",fn:function(){return[r("content-header")]},proxy:!0}])},[r("el-row",{attrs:{type:"flex",justify:"center"}},[r("lz-form",{ref:"form",attrs:{"get-data":e.getData,submit:e.onSubmit,errors:e.errors,form:e.form,"disable-redirect":"","disable-stay":"","edit-mode":""},on:{"update:errors":function(t){e.errors=t},"update:form":function(t){e.form=t}}},[r("el-form-item",{attrs:{label:"账号"}},[r("el-input",{attrs:{value:e.getInfo("username"),readonly:""}})],1),r("el-form-item",{attrs:{label:"姓名",required:"",prop:"name"}},[r("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("el-form-item",{attrs:{label:"头像",prop:"avatar"}},[r("file-picker",{attrs:{ext:"jpg,gif,png,jpeg"},model:{value:e.form.avatar,callback:function(t){e.$set(e.form,"avatar",t)},expression:"form.avatar"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{type:"password",autocomplete:"new-password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),r("el-form-item",{attrs:{label:"确认密码",prop:"password_confirmation"}},[r("el-input",{attrs:{type:"password",autocomplete:"new-password"},model:{value:e.form.password_confirmation,callback:function(t){e.$set(e.form,"password_confirmation",t)},expression:"form.password_confirmation"}})],1),r("el-form-item",{attrs:{label:"角色"}},e._l(e.getInfo("roles",[]),(function(t){return r("el-tag",{key:t.id,staticClass:"mr-1"},[e._v("\n          "+e._s(t.name)+"\n        ")])})),1),r("el-form-item",{attrs:{label:"权限"}},e._l(e.getInfo("permissions",[]),(function(t){return r("el-tag",{key:t.id,staticClass:"mr-1"},[e._v("\n          "+e._s(t.name)+"\n        ")])})),1)],1)],1)],1)},a=[],n=(r("96cf"),r("3b8d")),s=r("04bc"),i=r("7a7f"),f=r("44c4"),c=r("3b73"),l={name:"EditProfile",components:{LzForm:s["a"],FilePicker:c["a"]},mixins:[i["a"]],data:function(){return{form:{name:"",avatar:"",password:"",password_confirmation:""},profile:null,errors:{}}},methods:{getInfo:function(e,t){return this.profile?this.profile[e]:t},getData:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(f["c"])();case 2:t=e.sent,r=t.data,this.profile=r,this.fillForm(r);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onSubmit:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(f["h"])(this.form);case 2:t=e.sent,r=t.data,this.$store.commit("SET_USER",r),this.form=Object.assign({},this.form,{password:"",password_confirmation:""});case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},u=l,m=r("2877"),p=Object(m["a"])(u,o,a,!1,null,null,null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-33e40024.8ea878e0.js.map