{"version":3,"sources":["webpack:///src/components/LzForm/index.vue","webpack:///./src/components/LzForm/index.vue","webpack:///./src/components/LzForm/index.vue?e739","webpack:///./node_modules/lodash/_baseSet.js","webpack:///./node_modules/lodash/_basePick.js","webpack:///./src/components/LzForm/index.vue?5ebe","webpack:///./node_modules/lodash/pick.js","webpack:///./node_modules/lodash/_assignValue.js","webpack:///./src/components/FilePicker.vue?b769","webpack:///src/components/FilePicker.vue","webpack:///./src/components/FilePicker.vue?e493","webpack:///./src/components/FilePicker.vue","webpack:///./src/components/FilePicker.vue?1f24","webpack:///./node_modules/lodash/flatten.js","webpack:///./node_modules/core-js/modules/es6.set.js","webpack:///./node_modules/core-js/modules/_meta.js","webpack:///./node_modules/lodash/_baseAssignValue.js","webpack:///./node_modules/lodash/_basePickBy.js","webpack:///./src/components/LzForm/index.vue?b316","webpack:///./node_modules/core-js/modules/_validate-collection.js","webpack:///./node_modules/core-js/modules/_collection-strong.js","webpack:///./node_modules/lodash/_flatRest.js","webpack:///./src/components/FilePicker.vue?7eb6","webpack:///./node_modules/core-js/modules/_collection.js"],"names":["staticRenderFns","name","components","FlexSpacer","inject","view","from","default","data","loading","stay","props","getData","Function","submit","errors","Object","form","submitText","type","String","labelPosition","inDialog","Boolean","createdRedirect","p","length","updatedRedirect","this","$router","back","bind","disableRedirect","disableStay","editMode","computed","realLabelPosition","$store","state","miniWidth","created","copyMethods","methods","Form","m","apply","$refs","arguments","onReset","resetFields","watch","$route","handler","$active","_getData","immediate","render","Array","isArray","defaultSlot","map","helper","replace","slot","h","options","propsData","formItem","model","on","class","style","width","directives","ref","component","assignValue","castPath","isIndex","isObject","toKey","baseSet","object","path","value","customizer","index","lastIndex","nested","key","newValue","objValue","undefined","module","exports","basePickBy","hasIn","basePick","paths","flatRest","pick","baseAssignValue","eq","objectProto","prototype","hasOwnProperty","call","_vm","_h","$createElement","_c","_self","staticClass","_l","item","i","attrs","$event","stopPropagation","onReplace","remove","rawName","isMax","expression","onPick","pickerIcon","title","dialog","mediaMultiple","ext","scopedSlots","_u","fn","media","anySelected","onPickConfirm","selected","_v","PopConfirm","FilePreview","SystemMedia","elForm","elFormItem","formattedValue","pickIndex","multiple","max","Number","valueFields","flatValue","canPick","isReplace","arrayValue","formatReturn","$emit","clearSelected","fields","push","splice","newVal","baseFlatten","flatten","array","strong","validate","SET","get","add","def","META","has","setDesc","f","id","isExtensible","FREEZE","preventExtensions","setMeta","it","w","fastKey","create","getWeak","onFreeze","meta","NEED","KEY","defineProperty","baseGet","predicate","result","TYPE","_t","TypeError","dP","redefineAll","ctx","anInstance","forOf","$iterDefine","step","setSpecies","DESCRIPTORS","SIZE","getEntry","that","entry","_i","_f","n","k","getConstructor","wrapper","NAME","IS_MAP","ADDER","C","iterable","clear","r","next","prev","forEach","callbackfn","v","setStrong","iterated","kind","_k","overRest","setToString","func","global","$export","redefine","fails","$iterDetect","setToStringTag","inheritIfRequired","common","IS_WEAK","Base","proto","O","fixMethod","a","b","entries","instance","HASNT_CHAINING","THROWS_ON_PRIMITIVES","ACCEPT_ITERABLES","iter","BUGGY_ZERO","$instance","target","constructor","G","W","F"],"mappings":"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","file":"js/chunk-56527df0.1eac409e.js","sourcesContent":["<script>\r\nimport _forIn from 'lodash/forIn'\r\nimport _get from 'lodash/get'\r\nimport Form from '@/plugins/element/components/Form'\r\nimport { getMessage, handleValidateErrors } from '@/libs/utils'\r\nimport FlexSpacer from '@c/FlexSpacer'\r\n\r\nexport default {\r\n  name: 'LzForm',\r\n  components: {\r\n    FlexSpacer,\r\n  },\r\n  inject: {\r\n    // 使用 FormHelper 混入，会自动提供该注入\r\n    view: {\r\n      from: 'view',\r\n      default: null,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      stay: false,\r\n    }\r\n  },\r\n  props: {\r\n    getData: Function,\r\n    submit: Function,\r\n    errors: Object,\r\n    form: Object,\r\n    submitText: {\r\n      type: String,\r\n      default: '保存',\r\n    },\r\n    labelPosition: String,\r\n    inDialog: Boolean,\r\n    createdRedirect: {\r\n      type: [String, Function],\r\n      default() {\r\n        const p = this.$route.path.split('/')\r\n        return '/' + (p[p.length - 2] || '')\r\n      },\r\n    },\r\n    updatedRedirect: {\r\n      type: [String, Function],\r\n      default() {\r\n        return this.$router.back.bind(this.$router)\r\n      },\r\n    },\r\n    disableRedirect: Boolean,\r\n    disableStay: Boolean,\r\n    editMode: Boolean,\r\n  },\r\n  computed: {\r\n    realLabelPosition() {\r\n      return this.labelPosition || (this.$store.state.miniWidth ? 'top' : 'right')\r\n    },\r\n    miniWidth() {\r\n      return this.$store.state.miniWidth\r\n    },\r\n  },\r\n  created() {\r\n    this.copyMethods()\r\n  },\r\n  methods: {\r\n    /**\r\n     * 复制实际 Form 组件的方法, 给外部调用, 并把 this 指向 ElForm 实例\r\n     */\r\n    copyMethods() {\r\n      // 原始 ElForm 和 重写的 Form\r\n      [Form.extends.methods, Form.methods].forEach(methods => {\r\n        _forIn(methods, (m, k) => {\r\n          this[k] = function () {\r\n            m.apply(this.$refs.form, arguments)\r\n          }\r\n        })\r\n      })\r\n    },\r\n    async _getData() {\r\n      this.loading = true\r\n      this.view && this.$emit('update:form', this.view.formBak)\r\n\r\n      try {\r\n        this.getData && await this.getData()\r\n        // 在某些情况下，会出现方法未定义，所以放到 nextTick 中\r\n        this.$nextTick(() => {\r\n          this.setInitialValues()\r\n        })\r\n      } catch (e) {\r\n        Promise.reject(e)\r\n      }\r\n\r\n      this.loading = false\r\n    },\r\n    async onSubmit() {\r\n      this.$emit('update:errors', {})\r\n      try {\r\n        this.submit && await this.submit()\r\n\r\n        this.$message.success(getMessage(this.editMode ? 'updated' : 'created'))\r\n\r\n        if (this.stay || this.disableRedirect) {\r\n          return\r\n        }\r\n\r\n        let redirect = this.editMode ? this.updatedRedirect : this.createdRedirect\r\n        if (typeof redirect === 'string') {\r\n          this.$router.push(redirect)\r\n        } else if (typeof redirect === 'function') {\r\n          redirect()\r\n        }\r\n      } catch (e) {\r\n        this.$emit('update:errors', handleValidateErrors(e.response))\r\n        if (_get(e, 'response.status') !== 422) {\r\n          Promise.reject(e)\r\n        }\r\n      }\r\n    },\r\n    onReset() {\r\n      this.$refs.form.resetFields()\r\n    },\r\n  },\r\n  watch: {\r\n    $route: {\r\n      handler() {\r\n        this.$active && this._getData()\r\n      },\r\n      immediate: true,\r\n    },\r\n  },\r\n  render(h) {\r\n    let defaultSlot = this.$slots.default\r\n    if (Array.isArray(defaultSlot)) {\r\n      defaultSlot = defaultSlot.map((formItem) => {\r\n        const options = formItem.componentOptions\r\n\r\n        // 如果有 helper props，则生成一个新的 FormItem 替换掉原来的\r\n        let { helper, label } = options.propsData\r\n        if (helper) {\r\n          helper = helper.replace(/\\n/g, '<br>')\r\n          const labelSlot = h('template', {\r\n            slot: 'label',\r\n          }, [\r\n            (<span>{label}</span>),\r\n            (\r\n              <el-tooltip\r\n                effect=\"dark\"\r\n                placement=\"top-start\"\r\n                popper-class={`form-helper-popper ${this.miniWidth ? 'mini-width' : ''}`}\r\n              >\r\n                <div slot=\"content\" domPropsInnerHTML={helper}/>\r\n                <i class=\"ml-1 el-icon-question helper\"/>\r\n              </el-tooltip>\r\n            ),\r\n          ])\r\n          return h('el-form-item', {\r\n            props: options.propsData,\r\n          }, [labelSlot, ...options.children])\r\n        } else {\r\n          return formItem\r\n        }\r\n      })\r\n    }\r\n\r\n    const stayCheckbox = !this.disableStay && (\r\n      <el-checkbox\r\n        vModel={this.stay}\r\n        title=\"表单提交后，留在此页\"\r\n      >\r\n        留在此页\r\n      </el-checkbox>\r\n    )\r\n\r\n    const footerSlot = this.$slots.footer || (\r\n      <el-form-item class=\"footer\">\r\n        <loading-action type=\"primary\" action={this.onSubmit}>{this.submitText}</loading-action>\r\n        <el-button vOn:click={this.onReset}>重置</el-button>\r\n        {this.$slots.footerAppend}\r\n        <flex-spacer/>\r\n        {stayCheckbox}\r\n      </el-form-item>\r\n    )\r\n\r\n    // 用 jsx，ElForm 组件的 model props 传不进去，，，\r\n    return h('el-form', {\r\n      props: {\r\n        model: this.form,\r\n        errors: this.errors,\r\n        labelPosition: this.realLabelPosition,\r\n        ...this.$attrs,\r\n      },\r\n      on: {\r\n        ...this.$listeners,\r\n      },\r\n      class: {\r\n        'in-dialog': this.inDialog,\r\n      },\r\n      style: {\r\n        width: this.inDialog ? 'auto' : '800px',\r\n      },\r\n      directives: [\r\n        {\r\n          name: 'loading',\r\n          value: this.loading,\r\n        },\r\n      ],\r\n      ref: 'form',\r\n    }, [defaultSlot, footerSlot])\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import '~element-ui/packages/theme-chalk/src/common/var';\r\n\r\n.footer {\r\n  ::v-deep {\r\n    .el-form-item__content {\r\n      display: flex;\r\n    }\r\n  }\r\n}\r\n\r\n.in-dialog {\r\n  .footer {\r\n    text-align: right;\r\n    margin-bottom: 0;\r\n  }\r\n}\r\n\r\n.helper {\r\n  color: $--color-primary;\r\n  border: 2px solid transparent;\r\n  border-radius: 50%;\r\n  transition: border-color .3s;\r\n\r\n  &:hover {\r\n    border-color: $--color-primary-light-1;\r\n  }\r\n}\r\n</style>\r\n\r\n<style lang=\"scss\">\r\n.form-helper-popper {\r\n  max-width: 400px;\r\n\r\n  &.mini-width {\r\n    max-width: 90%;\r\n  }\r\n}\r\n</style>\r\n","var render, staticRenderFns\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=c3fdf812&scoped=true&lang=scss&\"\nimport style1 from \"./index.vue?vue&type=style&index=1&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c3fdf812\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","var assignValue = require('./_assignValue'),\n    castPath = require('./_castPath'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.set`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @param {Function} [customizer] The function to customize path creation.\n * @returns {Object} Returns `object`.\n */\nfunction baseSet(object, path, value, customizer) {\n  if (!isObject(object)) {\n    return object;\n  }\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      lastIndex = length - 1,\n      nested = object;\n\n  while (nested != null && ++index < length) {\n    var key = toKey(path[index]),\n        newValue = value;\n\n    if (index != lastIndex) {\n      var objValue = nested[key];\n      newValue = customizer ? customizer(objValue, key, nested) : undefined;\n      if (newValue === undefined) {\n        newValue = isObject(objValue)\n          ? objValue\n          : (isIndex(path[index + 1]) ? [] : {});\n      }\n    }\n    assignValue(nested, key, newValue);\n    nested = nested[key];\n  }\n  return object;\n}\n\nmodule.exports = baseSet;\n","var basePickBy = require('./_basePickBy'),\n    hasIn = require('./hasIn');\n\n/**\n * The base implementation of `_.pick` without support for individual\n * property identifiers.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @returns {Object} Returns the new object.\n */\nfunction basePick(object, paths) {\n  return basePickBy(object, paths, function(value, path) {\n    return hasIn(object, path);\n  });\n}\n\nmodule.exports = basePick;\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=1&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=1&lang=scss&\"","var basePick = require('./_basePick'),\n    flatRest = require('./_flatRest');\n\n/**\n * Creates an object composed of the picked `object` properties.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [paths] The property paths to pick.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pick(object, ['a', 'c']);\n * // => { 'a': 1, 'c': 3 }\n */\nvar pick = flatRest(function(object, paths) {\n  return object == null ? {} : basePick(object, paths);\n});\n\nmodule.exports = pick;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"file-picker\"},[_c('div',{staticClass:\"file-wrapper\"},[_vm._l((_vm.arrayValue),function(item,i){return _c('file-preview',{key:i,staticClass:\"preview file-item\",attrs:{\"file\":item}},[_c('i',{staticClass:\"el-icon-refresh replace\",attrs:{\"title\":\"替换\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.onReplace(i)}}}),_c('pop-confirm',{staticClass:\"el-icon-delete remove\",attrs:{\"comp\":\"i\",\"notice\":\"确认移除？\",\"title\":\"移除\",\"confirm\":function () { return _vm.remove(i); }}})],1)}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isMax),expression:\"!isMax\"}],staticClass:\"picker file-item flex-box\",on:{\"click\":_vm.onPick}},[_c('svg-icon',{attrs:{\"icon-class\":_vm.pickerIcon}})],1)],2),_c('el-dialog',{attrs:{\"title\":_vm.title,\"visible\":_vm.dialog,\"width\":\"90%\",\"custom-class\":\"system-media-dialog\"},on:{\"update:visible\":function($event){_vm.dialog=$event}}},[_c('system-media',{ref:\"media\",attrs:{\"default-multiple\":_vm.mediaMultiple,\"default-ext\":_vm.ext},scopedSlots:_vm._u([{key:\"actions\",fn:function(media){return [_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":!media.anySelected},on:{\"click\":function($event){return _vm.onPickConfirm(media.selected)}}},[_vm._v(\"\\n          选定\\n        \")])]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"file-picker\">\r\n    <div class=\"file-wrapper\">\r\n      <file-preview\r\n        class=\"preview file-item\"\r\n        v-for=\"(item, i) of arrayValue\"\r\n        :key=\"i\"\r\n        :file=\"item\"\r\n      >\r\n        <i\r\n          class=\"el-icon-refresh replace\"\r\n          title=\"替换\"\r\n          @click.stop=\"onReplace(i)\"\r\n        />\r\n        <pop-confirm\r\n          comp=\"i\"\r\n          class=\"el-icon-delete remove\"\r\n          notice=\"确认移除？\"\r\n          title=\"移除\"\r\n          :confirm=\"() => remove(i)\"\r\n        />\r\n      </file-preview>\r\n\r\n      <div\r\n        v-show=\"!isMax\"\r\n        class=\"picker file-item flex-box\"\r\n        @click=\"onPick\"\r\n      >\r\n        <svg-icon :icon-class=\"pickerIcon\"/>\r\n      </div>\r\n    </div>\r\n\r\n    <el-dialog\r\n      :title=\"title\"\r\n      :visible.sync=\"dialog\"\r\n      width=\"90%\"\r\n      custom-class=\"system-media-dialog\"\r\n    >\r\n      <system-media\r\n        ref=\"media\"\r\n        :default-multiple=\"mediaMultiple\"\r\n        :default-ext=\"ext\"\r\n      >\r\n        <template #actions=\"media\">\r\n          <el-button\r\n            type=\"primary\"\r\n            :disabled=\"!media.anySelected\"\r\n            @click=\"onPickConfirm(media.selected)\"\r\n          >\r\n            选定\r\n          </el-button>\r\n        </template>\r\n      </system-media>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SystemMedia from '@c/SystemMedia/index'\r\nimport _get from 'lodash/get'\r\nimport FilePreview from '@c/FilePreview'\r\nimport _pick from 'lodash/pick'\r\nimport PopConfirm from '@c/PopConfirm'\r\n\r\nexport default {\r\n  name: 'FilePicker',\r\n  components: {\r\n    PopConfirm,\r\n    FilePreview,\r\n    SystemMedia,\r\n  },\r\n  inject: {\r\n    elForm: {\r\n      default: '',\r\n    },\r\n\r\n    elFormItem: {\r\n      default: '',\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      dialog: false,\r\n      formattedValue: null,\r\n      pickIndex: -1,\r\n    }\r\n  },\r\n  props: {\r\n    /**\r\n     * 多选\r\n     */\r\n    multiple: Boolean,\r\n    /**\r\n     * 最多选多少个\r\n     */\r\n    max: {\r\n      type: [String, Number],\r\n      default: 8,\r\n    },\r\n    /**\r\n     * 选择器弹框的标题，默认为 FormItem 的 label 属性\r\n     */\r\n    title: {\r\n      type: String,\r\n      default() {\r\n        return _get(this.elFormItem, 'label', '')\r\n      },\r\n    },\r\n    value: null,\r\n    /**\r\n     * 类型筛选，强制限制上传和选择\r\n     */\r\n    ext: String,\r\n    /**\r\n     * 返回的数据对象中，只包含指定字段，path 字段会自动包含\r\n     * 不传则包含所有字段\r\n     */\r\n    valueFields: {\r\n      type: String,\r\n      default: 'path',\r\n    },\r\n    /**\r\n     * 在 valueFields 只返回一个字段时，是否直接返回该字段值，而非对象\r\n     */\r\n    flatValue: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n  },\r\n  computed: {\r\n    pickerIcon() {\r\n      return this.multiple ? 'multi-file' : 'single-file'\r\n    },\r\n    canPick() {\r\n      // 没有达到最大可选数，或者是替换文件的情况下，可以打开文件选择器\r\n      return !this.isMax || this.isReplace\r\n    },\r\n    isMax() {\r\n      return (this.multiple && this.value.length >= this.max) ||\r\n        (!this.multiple && this.value)\r\n    },\r\n    /**\r\n     * 是否是处于替换文件的情况\r\n     */\r\n    isReplace() {\r\n      return this.pickIndex !== -1\r\n    },\r\n    miniWidth() {\r\n      return this.$store.state.miniWidth\r\n    },\r\n    arrayValue() {\r\n      if (!this.value) {\r\n        return []\r\n      }\r\n\r\n      return Array.isArray(this.value) ? this.value : [this.value]\r\n    },\r\n    mediaMultiple() {\r\n      // 替换的情况下，只能单选\r\n      return this.isReplace ? false : this.multiple\r\n    },\r\n  },\r\n  methods: {\r\n    onPick() {\r\n      if (!this.canPick) {\r\n        return\r\n      }\r\n\r\n      this.dialog = true\r\n    },\r\n    onPickConfirm(selected) {\r\n      selected = selected.map(this.formatReturn)\r\n      let value\r\n      // 复制并格式化 selected 中的对象的值\r\n      if (this.multiple) {\r\n        if (this.isReplace) {\r\n          value = this.value\r\n          value[this.pickIndex] = selected[0]\r\n        } else {\r\n          value = this\r\n            .value\r\n            .concat(selected.slice(0, this.max - this.value.length))\r\n        }\r\n      } else {\r\n        value = selected[0]\r\n      }\r\n\r\n      this.$emit('input', value)\r\n      this.$refs.media.clearSelected()\r\n      this.dialog = false\r\n    },\r\n    /**\r\n     * 根据 valueFields 和 flatValue 格式化返回值\r\n     */\r\n    formatReturn(value) {\r\n      let fields = this.valueFields ? this.valueFields.split(',') : []\r\n      if (fields.length === 0) { // 返回字段为空，返回所有字段\r\n        value = { ...value }\r\n      } else { // 否则返回指定字段\r\n        // 默认自动包含 path 字段\r\n        fields.push('path')\r\n        value = _pick(value, fields)\r\n      }\r\n\r\n      // 去重\r\n      fields = [...new Set(fields)]\r\n      // 在只有一个字段时，如果需要平铺，则只返回该字段的值\r\n      if (this.flatValue && fields.length === 1) {\r\n        return value[fields[0]]\r\n      } else {\r\n        return value\r\n      }\r\n    },\r\n    remove(index) {\r\n      if (this.multiple) {\r\n        this.value.splice(index, 1)\r\n      } else {\r\n        this.$emit('input', null)\r\n      }\r\n    },\r\n    onReplace(index) {\r\n      this.pickIndex = index\r\n      this.onPick()\r\n    },\r\n  },\r\n  watch: {\r\n    dialog(newVal) {\r\n      if (!newVal) {\r\n        this.pickIndex = -1\r\n      }\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import '~element-ui/packages/theme-chalk/src/common/var';\r\n\r\n.file-wrapper {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.picker {\r\n  cursor: pointer;\r\n}\r\n\r\n.file-item {\r\n  width: 100px;\r\n  height: 100px;\r\n  min-width: 100px;\r\n  min-height: 100px;\r\n  border: $--border-base;\r\n  border-radius: $--border-radius-base;\r\n  color: $--color-info;\r\n  margin: 0 5px 5px 0;\r\n  transition: all .3s;\r\n\r\n  &:hover {\r\n    border-color: $--border-color-hover;\r\n  }\r\n\r\n  svg {\r\n    width: 50px;\r\n    height: 50px;\r\n  }\r\n}\r\n\r\n.remove {\r\n  color: $--color-danger;\r\n}\r\n\r\n.replace {\r\n  color: $--color-primary;\r\n}\r\n</style>\r\n\r\n<style lang=\"scss\">\r\n@import '~element-ui/packages/theme-chalk/src/common/var';\r\n\r\n.system-media-dialog {\r\n  &.el-dialog {\r\n    max-width: 1000px;\r\n  }\r\n\r\n  & > {\r\n    .el-dialog__header {\r\n      border-bottom: 1px solid $--color-info-light;\r\n    }\r\n\r\n    .el-dialog__body {\r\n      padding: 0 20px 0 0;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilePicker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilePicker.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FilePicker.vue?vue&type=template&id=d423ea10&scoped=true&\"\nimport script from \"./FilePicker.vue?vue&type=script&lang=js&\"\nexport * from \"./FilePicker.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FilePicker.vue?vue&type=style&index=0&id=d423ea10&scoped=true&lang=scss&\"\nimport style1 from \"./FilePicker.vue?vue&type=style&index=1&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d423ea10\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilePicker.vue?vue&type=style&index=0&id=d423ea10&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilePicker.vue?vue&type=style&index=0&id=d423ea10&scoped=true&lang=scss&\"","var baseFlatten = require('./_baseFlatten');\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, 1) : [];\n}\n\nmodule.exports = flatten;\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar SET = 'Set';\n\n// 23.2 Set Objects\nmodule.exports = require('./_collection')(SET, function (get) {\n  return function Set() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.2.3.1 Set.prototype.add(value)\n  add: function add(value) {\n    return strong.def(validate(this, SET), value = value === 0 ? 0 : value, value);\n  }\n}, strong);\n","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","var baseGet = require('./_baseGet'),\n    baseSet = require('./_baseSet'),\n    castPath = require('./_castPath');\n\n/**\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @param {Function} predicate The function invoked per property.\n * @returns {Object} Returns the new object.\n */\nfunction basePickBy(object, paths, predicate) {\n  var index = -1,\n      length = paths.length,\n      result = {};\n\n  while (++index < length) {\n    var path = paths[index],\n        value = baseGet(object, path);\n\n    if (predicate(value, path)) {\n      baseSet(result, castPath(path, object), value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = basePickBy;\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=c3fdf812&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=c3fdf812&scoped=true&lang=scss&\"","var isObject = require('./_is-object');\nmodule.exports = function (it, TYPE) {\n  if (!isObject(it) || it._t !== TYPE) throw TypeError('Incompatible receiver, ' + TYPE + ' required!');\n  return it;\n};\n","'use strict';\nvar dP = require('./_object-dp').f;\nvar create = require('./_object-create');\nvar redefineAll = require('./_redefine-all');\nvar ctx = require('./_ctx');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar $iterDefine = require('./_iter-define');\nvar step = require('./_iter-step');\nvar setSpecies = require('./_set-species');\nvar DESCRIPTORS = require('./_descriptors');\nvar fastKey = require('./_meta').fastKey;\nvar validate = require('./_validate-collection');\nvar SIZE = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function (that, key) {\n  // fast case\n  var index = fastKey(key);\n  var entry;\n  if (index !== 'F') return that._i[index];\n  // frozen object case\n  for (entry = that._f; entry; entry = entry.n) {\n    if (entry.k == key) return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;         // collection type\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        for (var that = validate(this, NAME), data = that._i, entry = that._f; entry; entry = entry.n) {\n          entry.r = true;\n          if (entry.p) entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = validate(this, NAME);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.n;\n          var prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if (prev) prev.n = next;\n          if (next) next.p = prev;\n          if (that._f == entry) that._f = next;\n          if (that._l == entry) that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        validate(this, NAME);\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.n : this._f) {\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while (entry && entry.r) entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(validate(this, NAME), key);\n      }\n    });\n    if (DESCRIPTORS) dP(C.prototype, 'size', {\n      get: function () {\n        return validate(this, NAME)[SIZE];\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var entry = getEntry(that, key);\n    var prev, index;\n    // change existing entry\n    if (entry) {\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if (!that._f) that._f = entry;\n      if (prev) prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if (index !== 'F') that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function (C, NAME, IS_MAP) {\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function (iterated, kind) {\n      this._t = validate(iterated, NAME); // target\n      this._k = kind;                     // kind\n      this._l = undefined;                // previous\n    }, function () {\n      var that = this;\n      var kind = that._k;\n      var entry = that._l;\n      // revert to the last existing entry\n      while (entry && entry.r) entry = entry.p;\n      // get next entry\n      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if (kind == 'keys') return step(0, entry.k);\n      if (kind == 'values') return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n","var flatten = require('./flatten'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * A specialized version of `baseRest` which flattens the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @returns {Function} Returns the new function.\n */\nfunction flatRest(func) {\n  return setToString(overRest(func, undefined, flatten), func + '');\n}\n\nmodule.exports = flatRest;\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilePicker.vue?vue&type=style&index=1&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilePicker.vue?vue&type=style&index=1&lang=scss&\"","'use strict';\nvar global = require('./_global');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar redefineAll = require('./_redefine-all');\nvar meta = require('./_meta');\nvar forOf = require('./_for-of');\nvar anInstance = require('./_an-instance');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar $iterDetect = require('./_iter-detect');\nvar setToStringTag = require('./_set-to-string-tag');\nvar inheritIfRequired = require('./_inherit-if-required');\n\nmodule.exports = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {\n  var Base = global[NAME];\n  var C = Base;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var proto = C && C.prototype;\n  var O = {};\n  var fixMethod = function (KEY) {\n    var fn = proto[KEY];\n    redefine(proto, KEY,\n      KEY == 'delete' ? function (a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'has' ? function has(a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'get' ? function get(a) {\n        return IS_WEAK && !isObject(a) ? undefined : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'add' ? function add(a) { fn.call(this, a === 0 ? 0 : a); return this; }\n        : function set(a, b) { fn.call(this, a === 0 ? 0 : a, b); return this; }\n    );\n  };\n  if (typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function () {\n    new C().entries().next();\n  }))) {\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    var instance = new C();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~  Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    var ACCEPT_ITERABLES = $iterDetect(function (iter) { new C(iter); }); // eslint-disable-line no-new\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new C();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n    if (!ACCEPT_ITERABLES) {\n      C = wrapper(function (target, iterable) {\n        anInstance(target, C, NAME);\n        var that = inheritIfRequired(new Base(), target, C);\n        if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n        return that;\n      });\n      C.prototype = proto;\n      proto.constructor = C;\n    }\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n    // weak collections should not contains .clear method\n    if (IS_WEAK && proto.clear) delete proto.clear;\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F * (C != Base), O);\n\n  if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n"],"sourceRoot":""}